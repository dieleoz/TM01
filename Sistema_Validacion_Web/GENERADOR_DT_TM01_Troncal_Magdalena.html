<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador DT TM01 - Troncal Magdalena</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 14px;
        }
        
        .alert-critical {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .alert-critical h3 {
            color: #856404;
            margin-bottom: 10px;
        }
        
        .alert-critical p {
            color: #856404;
            margin: 5px 0;
        }
        
        .controls {
            padding: 20px 30px;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-success:hover {
            background: #218838;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.4);
        }
        
        .btn-warning {
            background: #ffc107;
            color: #212529;
        }
        
        .btn-warning:hover {
            background: #e0a800;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 193, 7, 0.4);
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .btn-danger:hover {
            background: #c82333;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(220, 53, 69, 0.4);
        }
        
        .btn-info {
            background: #17a2b8;
            color: white;
        }
        
        .btn-info:hover {
            background: #138496;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(23, 162, 184, 0.4);
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .form-group label {
            font-weight: 600;
            color: #495057;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .form-row-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
        }
        
        .table-container {
            padding: 20px 30px;
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        th {
            background: #2c3e50;
            color: white;
            padding: 15px 10px;
            text-align: left;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        td {
            padding: 12px 10px;
            border-bottom: 1px solid #dee2e6;
            font-size: 0.9em;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .badge-success {
            background: #d4edda;
            color: #155724;
        }
        
        .badge-warning {
            background: #fff3cd;
            color: #856404;
        }
        
        .badge-danger {
            background: #f8d7da;
            color: #721c24;
        }
        
        .badge-info {
            background: #d1ecf1;
            color: #0c5460;
        }
        
        .badge-secondary {
            background: #e2e3e5;
            color: #383d41;
        }
        
        .stats {
            padding: 20px 30px;
            background: #f8f9fa;
            border-top: 1px solid #dee2e6;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .stat-card h3 {
            font-size: 12px;
            color: #6c757d;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .stat-card p {
            font-size: 24px;
            font-weight: 700;
            color: #212529;
        }
        
        .icon {
            width: 18px;
            height: 18px;
        }
        
        .action-btn {
            padding: 4px 8px;
            font-size: 0.8em;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background: #007bff;
            color: white;
        }
        
        .action-btn:hover {
            background: #0056b3;
        }
        
        .dt-preview {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .form-row,
            .form-row-3 {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìã GENERADOR DT (DOCUMENTOS T√âCNICOS)</h1>
            <p>TM01 - Troncal Magdalena | APP Puerto Salgar - Barrancabermeja | Ajustes T√©cnicos | Versi√≥n 1.0</p>
            <div class="alert-critical">
                <h3>‚ö†Ô∏è GENERADOR DE DOCUMENTOS T√âCNICOS</h3>
                <p><strong>Objetivo:</strong> Generar DT para ajustes t√©cnicos identificados en validaciones</p>
                <p><strong>Alcance:</strong> Todos los sistemas ITS del proyecto TM01</p>
                <p><strong>Responsable:</strong> Administrador Contractual EPC</p>
            </div>
        </div>
        
        <div class="controls">
            <button class="btn btn-success" onclick="generarDT()">
                <svg class="icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"/>
                </svg>
                Generar DT
            </button>
            
            <button class="btn btn-primary" onclick="previsualizarDT()">
                <svg class="icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm0 4a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1V8zm8 0a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1V9a1 1 0 00-1-1h-2z" clip-rule="evenodd"/>
                </svg>
                Previsualizar DT
            </button>
            
            <button class="btn btn-warning" onclick="exportarDT()">
                <svg class="icon" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"/>
                </svg>
                Exportar DT
            </button>
            
            <button class="btn btn-danger" onclick="limpiarFormulario()">
                <svg class="icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd"/>
                </svg>
                Limpiar Formulario
            </button>
            
            <button class="btn btn-info" onclick="imprimirDT()">
                <svg class="icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z" clip-rule="evenodd"/>
                </svg>
                Imprimir DT
            </button>
        </div>
        
        <div class="table-container">
            <h3>üìù Formulario de Generaci√≥n de DT</h3>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="numeroDT">N√∫mero DT:</label>
                    <input type="text" id="numeroDT" placeholder="Ej: DT-001-2025">
                </div>
                <div class="form-group">
                    <label for="fechaDT">Fecha:</label>
                    <input type="date" id="fechaDT">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="sistemaDT">Sistema Afectado:</label>
                    <select id="sistemaDT">
                        <option value="">Seleccionar sistema</option>
                        <option value="SOS">Sistema SOS</option>
                        <option value="ETD">Sistema ETD/RADAR</option>
                        <option value="CCTV">Sistema CCTV</option>
                        <option value="PMV">Sistema PMV</option>
                        <option value="METEO">Sistema Meteorol√≥gico</option>
                        <option value="WIM">Sistema WIM</option>
                        <option value="FO">Sistema Fibra √ìptica</option>
                        <option value="CCO">Centro de Control Operacional</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="tipoCambio">Tipo de Cambio:</label>
                    <select id="tipoCambio">
                        <option value="">Seleccionar tipo</option>
                        <option value="CANTIDAD">Cambio de Cantidad</option>
                        <option value="UBICACION">Cambio de Ubicaci√≥n</option>
                        <option value="ESPECIFICACION">Cambio de Especificaci√≥n</option>
                        <option value="COSTO">Cambio de Costo</option>
                        <option value="CRITERIO">Cambio de Criterio</option>
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="justificacionDT">Justificaci√≥n:</label>
                    <textarea id="justificacionDT" placeholder="Describir la justificaci√≥n del cambio..."></textarea>
                </div>
                <div class="form-group">
                    <label for="impactoDT">Impacto:</label>
                    <textarea id="impactoDT" placeholder="Describir el impacto del cambio..."></textarea>
                </div>
            </div>
            
            <div class="form-row-3">
                <div class="form-group">
                    <label for="responsableDT">Responsable:</label>
                    <select id="responsableDT">
                        <option value="">Seleccionar responsable</option>
                        <option value="Ing. Sistemas">Ing. Sistemas</option>
                        <option value="Ing. Civil">Ing. Civil</option>
                        <option value="Ing. El√©ctrica">Ing. El√©ctrica</option>
                        <option value="Telecom">Telecom</option>
                        <option value="PMO">PMO</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="prioridadDT">Prioridad:</label>
                    <select id="prioridadDT">
                        <option value="">Seleccionar prioridad</option>
                        <option value="ALTA">Alta</option>
                        <option value="MEDIA">Media</option>
                        <option value="BAJA">Baja</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="estadoDT">Estado:</label>
                    <select id="estadoDT">
                        <option value="PENDIENTE">Pendiente</option>
                        <option value="EN_REVISION">En Revisi√≥n</option>
                        <option value="APROBADO">Aprobado</option>
                        <option value="RECHAZADO">Rechazado</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="observacionesDT">Observaciones:</label>
                <textarea id="observacionesDT" placeholder="Observaciones adicionales..."></textarea>
            </div>
        </div>
        
        <div class="table-container">
            <h3>üìã Historial de DT Generados</h3>
            <table id="dtTable">
                <thead>
                    <tr>
                        <th style="width: 100px;">N√∫mero DT</th>
                        <th style="width: 100px;">Fecha</th>
                        <th style="width: 120px;">Sistema</th>
                        <th style="width: 120px;">Tipo Cambio</th>
                        <th style="width: 150px;">Justificaci√≥n</th>
                        <th style="width: 100px;">Responsable</th>
                        <th style="width: 80px;">Prioridad</th>
                        <th style="width: 80px;">Estado</th>
                        <th style="width: 100px;">Acci√≥n</th>
                    </tr>
                </thead>
                <tbody id="dtBody">
                </tbody>
            </table>
        </div>
        
        <div class="stats">
            <div class="stat-card">
                <h3>Total DT Generados</h3>
                <p id="totalDT">0</p>
            </div>
            <div class="stat-card">
                <h3>DT Pendientes</h3>
                <p id="dtPendientes">0</p>
            </div>
            <div class="stat-card">
                <h3>DT Aprobados</h3>
                <p id="dtAprobados">0</p>
            </div>
            <div class="stat-card">
                <h3>DT Rechazados</h3>
                <p id="dtRechazados">0</p>
            </div>
        </div>
        
        <div id="dtPreview" class="dt-preview" style="display: none;">
            <!-- Previsualizaci√≥n del DT generado -->
        </div>
    </div>

    <script>
        // Datos de DT generados
        let dtData = [];
        let dtCounter = 1;

        // Funci√≥n para generar DT
        function generarDT() {
            const numeroDT = document.getElementById('numeroDT').value || `DT-${String(dtCounter).padStart(3, '0')}-2025`;
            const fechaDT = document.getElementById('fechaDT').value || new Date().toISOString().split('T')[0];
            const sistemaDT = document.getElementById('sistemaDT').value;
            const tipoCambio = document.getElementById('tipoCambio').value;
            const justificacionDT = document.getElementById('justificacionDT').value;
            const impactoDT = document.getElementById('impactoDT').value;
            const responsableDT = document.getElementById('responsableDT').value;
            const prioridadDT = document.getElementById('prioridadDT').value;
            const estadoDT = document.getElementById('estadoDT').value;
            const observacionesDT = document.getElementById('observacionesDT').value;

            if (!sistemaDT || !tipoCambio || !justificacionDT) {
                alert('‚ùå Por favor complete todos los campos obligatorios.');
                return;
            }

            const nuevoDT = {
                numero: numeroDT,
                fecha: fechaDT,
                sistema: sistemaDT,
                tipoCambio: tipoCambio,
                justificacion: justificacionDT,
                impacto: impactoDT,
                responsable: responsableDT,
                prioridad: prioridadDT,
                estado: estadoDT,
                observaciones: observacionesDT,
                timestamp: new Date().toISOString()
            };

            dtData.push(nuevoDT);
            dtCounter++;
            
            renderDTTable();
            updateStats();
            
            alert(`‚úÖ DT ${numeroDT} generado exitosamente.`);
        }

        // Funci√≥n para previsualizar DT
        function previsualizarDT() {
            const numeroDT = document.getElementById('numeroDT').value || `DT-${String(dtCounter).padStart(3, '0')}-2025`;
            const fechaDT = document.getElementById('fechaDT').value || new Date().toISOString().split('T')[0];
            const sistemaDT = document.getElementById('sistemaDT').value;
            const tipoCambio = document.getElementById('tipoCambio').value;
            const justificacionDT = document.getElementById('justificacionDT').value;
            const impactoDT = document.getElementById('impactoDT').value;
            const responsableDT = document.getElementById('responsableDT').value;
            const prioridadDT = document.getElementById('prioridadDT').value;
            const estadoDT = document.getElementById('estadoDT').value;
            const observacionesDT = document.getElementById('observacionesDT').value;

            const dtPreview = `
DOCUMENTO T√âCNICO (DT) - TM01 TRONCAL MAGDALENA
================================================

N√∫mero DT: ${numeroDT}
Fecha: ${fechaDT}
Proyecto: APP Puerto Salgar - Barrancabermeja
Sistema: ${sistemaDT}

1. INFORMACI√ìN GENERAL
--------------------
Tipo de Cambio: ${tipoCambio}
Responsable: ${responsableDT}
Prioridad: ${prioridadDT}
Estado: ${estadoDT}

2. JUSTIFICACI√ìN
---------------
${justificacionDT}

3. IMPACTO
---------
${impactoDT}

4. OBSERVACIONES
---------------
${observacionesDT}

5. APROBACIONES
--------------
[ ] Interventor√≠a
[ ] ANI
[ ] Administrador Contractual EPC

6. SEGUIMIENTO
--------------
Fecha de Aprobaci√≥n: ___________
Fecha de Implementaci√≥n: ___________
Responsable de Implementaci√≥n: ___________

================================================
Generado el: ${new Date().toLocaleString()}
            `;

            document.getElementById('dtPreview').textContent = dtPreview;
            document.getElementById('dtPreview').style.display = 'block';
        }

        // Funci√≥n para exportar DT
        function exportarDT() {
            const numeroDT = document.getElementById('numeroDT').value || `DT-${String(dtCounter).padStart(3, '0')}-2025`;
            const fechaDT = document.getElementById('fechaDT').value || new Date().toISOString().split('T')[0];
            const sistemaDT = document.getElementById('sistemaDT').value;
            const tipoCambio = document.getElementById('tipoCambio').value;
            const justificacionDT = document.getElementById('justificacionDT').value;
            const impactoDT = document.getElementById('impactoDT').value;
            const responsableDT = document.getElementById('responsableDT').value;
            const prioridadDT = document.getElementById('prioridadDT').value;
            const estadoDT = document.getElementById('estadoDT').value;
            const observacionesDT = document.getElementById('observacionesDT').value;

            const dtContent = `
DOCUMENTO T√âCNICO (DT) - TM01 TRONCAL MAGDALENA
================================================

N√∫mero DT: ${numeroDT}
Fecha: ${fechaDT}
Proyecto: APP Puerto Salgar - Barrancabermeja
Sistema: ${sistemaDT}

1. INFORMACI√ìN GENERAL
--------------------
Tipo de Cambio: ${tipoCambio}
Responsable: ${responsableDT}
Prioridad: ${prioridadDT}
Estado: ${estadoDT}

2. JUSTIFICACI√ìN
---------------
${justificacionDT}

3. IMPACTO
---------
${impactoDT}

4. OBSERVACIONES
---------------
${observacionesDT}

5. APROBACIONES
--------------
[ ] Interventor√≠a
[ ] ANI
[ ] Administrador Contractual EPC

6. SEGUIMIENTO
--------------
Fecha de Aprobaci√≥n: ___________
Fecha de Implementaci√≥n: ___________
Responsable de Implementaci√≥n: ___________

================================================
Generado el: ${new Date().toLocaleString()}
            `;

            const blob = new Blob([dtContent], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${numeroDT}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);

            alert(`‚úÖ DT ${numeroDT} exportado exitosamente.`);
        }

        // Funci√≥n para limpiar formulario
        function limpiarFormulario() {
            document.getElementById('numeroDT').value = '';
            document.getElementById('fechaDT').value = '';
            document.getElementById('sistemaDT').value = '';
            document.getElementById('tipoCambio').value = '';
            document.getElementById('justificacionDT').value = '';
            document.getElementById('impactoDT').value = '';
            document.getElementById('responsableDT').value = '';
            document.getElementById('prioridadDT').value = '';
            document.getElementById('estadoDT').value = 'PENDIENTE';
            document.getElementById('observacionesDT').value = '';
            document.getElementById('dtPreview').style.display = 'none';
        }

        // Funci√≥n para imprimir DT
        function imprimirDT() {
            const dtPreview = document.getElementById('dtPreview');
            if (dtPreview.style.display === 'none') {
                previsualizarDT();
            }
            window.print();
        }

        // Funci√≥n para renderizar tabla de DT
        function renderDTTable() {
            const tbody = document.getElementById('dtBody');
            let html = '';

            dtData.forEach(item => {
                const estadoBadge = getEstadoBadge(item.estado);
                const prioridadBadge = getPrioridadBadge(item.prioridad);
                const actionButton = getActionButton(item.numero);

                html += `
                    <tr>
                        <td><span class="badge badge-info">${item.numero}</span></td>
                        <td>${item.fecha}</td>
                        <td>${item.sistema}</td>
                        <td>${item.tipoCambio}</td>
                        <td>${item.justificacion.substring(0, 50)}...</td>
                        <td>${item.responsable}</td>
                        <td>${prioridadBadge}</td>
                        <td>${estadoBadge}</td>
                        <td>${actionButton}</td>
                    </tr>
                `;
            });

            tbody.innerHTML = html;
        }

        // Funci√≥n para obtener badge de estado
        function getEstadoBadge(estado) {
            switch(estado) {
                case 'PENDIENTE':
                    return '<span class="badge badge-warning">PENDIENTE</span>';
                case 'EN_REVISION':
                    return '<span class="badge badge-info">EN REVISI√ìN</span>';
                case 'APROBADO':
                    return '<span class="badge badge-success">APROBADO</span>';
                case 'RECHAZADO':
                    return '<span class="badge badge-danger">RECHAZADO</span>';
                default:
                    return '<span class="badge badge-secondary">N/A</span>';
            }
        }

        // Funci√≥n para obtener badge de prioridad
        function getPrioridadBadge(prioridad) {
            switch(prioridad) {
                case 'ALTA':
                    return '<span class="badge badge-danger">ALTA</span>';
                case 'MEDIA':
                    return '<span class="badge badge-warning">MEDIA</span>';
                case 'BAJA':
                    return '<span class="badge badge-success">BAJA</span>';
                default:
                    return '<span class="badge badge-secondary">N/A</span>';
            }
        }

        // Funci√≥n para obtener bot√≥n de acci√≥n
        function getActionButton(numero) {
            return `<button class="action-btn" onclick="verDT('${numero}')">VER</button>`;
        }

        // Funci√≥n para ver DT
        function verDT(numero) {
            const dt = dtData.find(item => item.numero === numero);
            if (dt) {
                alert(`üìã DT ${numero}\n\nSistema: ${dt.sistema}\nTipo: ${dt.tipoCambio}\nJustificaci√≥n: ${dt.justificacion}\nEstado: ${dt.estado}`);
            }
        }

        // Funci√≥n para actualizar estad√≠sticas
        function updateStats() {
            document.getElementById('totalDT').textContent = dtData.length;
            document.getElementById('dtPendientes').textContent = dtData.filter(item => item.estado === 'PENDIENTE').length;
            document.getElementById('dtAprobados').textContent = dtData.filter(item => item.estado === 'APROBADO').length;
            document.getElementById('dtRechazados').textContent = dtData.filter(item => item.estado === 'RECHAZADO').length;
        }

        // Inicializar al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            // Establecer fecha actual
            document.getElementById('fechaDT').value = new Date().toISOString().split('T')[0];
            
            // Establecer estado por defecto
            document.getElementById('estadoDT').value = 'PENDIENTE';
            
            // Renderizar tabla inicial
            renderDTTable();
            updateStats();
        });
    </script>
</body>
</html>
