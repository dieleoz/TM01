<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema TM01 - Troncal Magdalena | Acceso Seguro</title>
    
    <!-- Estilos externos -->
    <link rel="stylesheet" href="assets/css/portal-login.css?v=20251027">
</head>
<body>
    <!-- LOGIN FORM -->
    <div class="login-container" id="loginContainer">
        <div class="logo">
            <h1>ğŸ—ï¸ Sistema TM01</h1>
            <p>Troncal Magdalena</p>
            <span class="project-badge">v3.3 | Acceso Seguro</span>
        </div>

        <form id="loginForm" onsubmit="return handleLogin(event)">
            <div class="form-group">
                <label for="username">ğŸ‘¤ Usuario</label>
                <input 
                    type="text" 
                    id="username" 
                    placeholder="Ingrese su usuario"
                    autocomplete="username"
                    required
                >
            </div>

            <div class="form-group">
                <label for="password">ğŸ”’ ContraseÃ±a</label>
                <input 
                    type="password" 
                    id="password" 
                    placeholder="Ingrese su contraseÃ±a"
                    autocomplete="current-password"
                    required
                >
            </div>

            <button type="submit" class="btn-login">
                Acceder al Sistema
            </button>

            <div class="spinner" id="spinner"></div>
            <div class="error-message" id="errorMessage">
                âŒ Usuario o contraseÃ±a incorrectos
            </div>
        </form>

        <div class="info-box">
            <h3>ğŸ“‹ InformaciÃ³n del Sistema</h3>
            <p>
                Sistema de ValidaciÃ³n Web TM01 con arquitectura dinÃ¡mica de 4 capas,
                gestiÃ³n de Decisiones TÃ©cnicas y sincronizaciÃ³n automÃ¡tica.
            </p>
            <p style="margin-top: 10px; font-size: 12px; color: #999;">
                â„¹ï¸ Para obtener credenciales, contactar a PMO del proyecto.
            </p>
        </div>

        <div class="version">
            Sistema v3.3 | Octubre 2025 | TM01 Troncal Magdalena
        </div>
    </div>

    <!-- PORTAL PRINCIPAL (despuÃ©s del login) -->
    <div class="portal-container" id="portalContainer">
        <div class="portal-header">
            <h1>ğŸ¯ Portal Sistema TM01</h1>
            <p>Bienvenido al Sistema de ValidaciÃ³n Web Integral</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">24</div>
                <div class="stat-label">ğŸ“‹ Items WBS</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">7</div>
                <div class="stat-label">ğŸ¯ Sistemas ITS</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">200+</div>
                <div class="stat-label">âš™ï¸ Equipos</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">$13M</div>
                <div class="stat-label">ğŸ’° Presupuesto</div>
            </div>
        </div>

        <div class="portal-grid">
            <a href="docs/WBS_Menu_Principal.html" class="portal-card">
                <span class="icon">ğŸ“‹</span>
                <h3>WBS Menu Principal</h3>
                <p>Acceso a todas las interfaces del sistema</p>
            </a>

            <a href="docs/wbs.html" class="portal-card">
                <span class="icon">ğŸ›ï¸</span>
                <h3>Estructura WBS</h3>
                <p>WBS interactiva con 24 items</p>
            </a>

            <a href="docs/layout.html" class="portal-card">
                <span class="icon">ğŸ—ºï¸</span>
                <h3>Layout Georreferenciado</h3>
                <p>200+ equipos en 293 km</p>
            </a>

            <a href="docs/presupuesto.html" class="portal-card">
                <span class="icon">ğŸ’°</span>
                <h3>Presupuesto DinÃ¡mico</h3>
                <p>Dashboard con cÃ¡lculos AIU/IVA</p>
            </a>

            <a href="VII. Documentos Transversales/DTs/" class="portal-card">
                <span class="icon">ğŸ“„</span>
                <h3>Decisiones TÃ©cnicas</h3>
                <p>DTs con propagaciÃ³n automÃ¡tica</p>
            </a>

            <a href="docs/index.html" class="portal-card">
                <span class="icon">ğŸ“Š</span>
                <h3>Dashboard Principal</h3>
                <p>Vista general del sistema</p>
            </a>
        </div>

        <button class="btn-logout" onclick="handleLogout()">
            ğŸšª Cerrar SesiÃ³n
        </button>

        <div class="version">
            Sistema v3.3 | SesiÃ³n iniciada | <span id="userDisplay"></span>
        </div>
    </div>

    <script src="assets/js/login.js?v=20251027"></script>
</body>
</html>
